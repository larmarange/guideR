% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_proportions.R
\name{plot_proportions}
\alias{plot_proportions}
\title{Plot proportions by sub-groups}
\usage{
plot_proportions(
  data,
  condition,
  by,
  conf.level = 0.95,
  label_wrap = 50,
  add_p = TRUE,
  p_size = 3.5,
  ...,
  return_data = FALSE
)
}
\arguments{
\item{data}{A data frame, data frame extension (e.g. a tibble),
or a survey design object.}

\item{condition}{<\code{\link[rlang:args_data_masking]{data-masking}}> A condition
defining a proportion (see examples).}

\item{by}{<\code{\link[dplyr:dplyr_tidy_select]{tidy-select}}> List of variables to
group by (comparison is done separately for each variable).}

\item{conf.level}{Confidence level for the confidence intervals.}

\item{label_wrap}{Maximum number of characters before wrapping the strip
(variable names).}

\item{add_p}{Add p-value (Chi² test) in the top-left corner.}

\item{p_size}{Text size for p-values.}

\item{...}{Passed to \code{\link[ggplot2:geom_bar]{ggplot2::geom_bar()}}.}

\item{return_data}{Return data used for ploting instead of the plot?}
}
\description{
\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#experimental}{\figure{lifecycle-experimental.svg}{options: alt='[Experimental]'}}}{\strong{[Experimental]}}
See \code{\link[=proportion]{proportion()}} for more details on the way proportions and confidence
intervals are computed. For data frame, Chi² p-values are computed with
\code{\link[stats:chisq.test]{stats::chisq.test()}}. For survey datasets, \code{\link[survey:svychisq]{survey::svychisq()}} is used
instead.
}
\examples{
titanic |>
  plot_proportions(Survived == "Yes", by = c(Class, Sex), return_data = TRUE)

titanic |>
  plot_proportions(Survived == "Yes", by = c(Class, Sex), fill = "lightblue")

titanic |>
  plot_proportions(
    Survived == "Yes",
    by = -Survived,
    mapping = ggplot2::aes(fill = variable),
    colour = "black",
    show.legend = FALSE,
    add_p = FALSE
 )
}
\keyword{univar}
